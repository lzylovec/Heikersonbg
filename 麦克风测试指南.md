# 🎤 麦克风功能测试指南

## 🚨 重要：macOS麦克风权限设置

### 第一步：检查系统权限

1. **打开系统偏好设置**
   - 点击苹果菜单 → 系统偏好设置
   - 选择"安全性与隐私"
   - 点击左侧"麦克风"

2. **给终端应用授权**
   - 在右侧列表中找到"终端"或"iTerm"
   - 勾选对应的复选框
   - 如果已勾选，先取消勾选，再重新勾选

3. **重启终端应用**
   - 完全退出终端应用
   - 重新打开终端
   - 重新运行 `python3 app.py`

### 第二步：验证麦克风硬件

运行我们的测试脚本：
```bash
python3 test_microphone.py
```

如果看到"MacBook Pro麦克风 ✅"，说明硬件检测成功。

## 🧪 完整测试流程

### 1. 启动应用
```bash
python3 app.py
```

### 2. 打开浏览器
访问：http://localhost:8080

### 3. 测试步骤

1. **点击"开始录音"按钮**
2. **看到状态变为"🎤 正在录音，请对着麦克风说话..."**
3. **清晰地说一句中文**（例如："你好"或"改天一起吃饭吧"）
4. **等待处理**（状态显示"🔄 正在处理录音，请稍候..."）
5. **查看结果**

## 🎯 预期结果

### 成功情况：
- ✅ 原始文本显示你刚才说的话
- ✅ AI翻译显示分析结果（是否为客套话）
- ✅ 状态显示"✅ 分析完成！"

### 常见问题：

#### 🔇 没有声音输入
- **症状**：显示"等待超时，未检测到语音"
- **解决**：
  1. 检查系统麦克风权限
  2. 确保麦克风没有被其他应用占用
  3. 说话时离麦克风近一些
  4. 在安静环境中测试

#### 🗣️ 无法识别
- **症状**：显示"无法识别语音内容"
- **解决**：
  1. 使用标准普通话
  2. 说话清晰，语速适中
  3. 避免背景噪音
  4. 重试几次

#### 🔌 设备错误
- **症状**：显示"无法初始化麦克风"
- **解决**：
  1. 检查麦克风硬件连接
  2. 重启系统
  3. 尝试使用外部USB麦克风

## 💡 使用技巧

### 🎤 录音建议
- **距离**：离麦克风20-30厘米
- **语速**：正常说话速度
- **音量**：正常说话音量
- **环境**：安静的环境
- **内容**：使用标准中文普通话

### 🔄 重试策略
- 第一次失败很正常，多试几次
- 每次失败后等待2-3秒再试
- 可以先用"你好"这样简单的词测试

### 📱 浏览器兼容性
- ✅ Chrome（推荐）
- ✅ Safari
- ✅ Firefox
- ✅ Edge

## 🚨 故障排除清单

- [ ] 系统麦克风权限已开启
- [ ] 终端应用有麦克风权限
- [ ] 麦克风硬件正常工作
- [ ] 网络连接正常（AI分析需要）
- [ ] 浏览器允许麦克风访问
- [ ] 在安静环境中测试
- [ ] 使用标准中文普通话

## 🎉 成功标志

当你看到以下界面时，说明一切正常：
- 左侧显示你说的话
- 右侧显示AI分析结果
- 状态指示灯为绿色
- 没有错误提示

现在就去试试吧！对着麦克风说句话，让AI帮你分析是不是客套话！ 🎯